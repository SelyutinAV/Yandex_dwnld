# üéâ FLAC –ó–ê–ì–†–£–ó–ö–ê - –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–ê–õ–ò–ó–û–í–ê–ù–ê!

## ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢!**

FLAC —Ñ–∞–π–ª—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è, —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞—é—Ç—Å—è –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

---

## üìä **–†–ï–ó–£–õ–¨–¢–ê–¢ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø**

```
–¢—Ä–µ–∫: Afrika - Morandi (ID: 68160955)
‚úÖ –§–∞–π–ª: test_track_68160955.flac
‚úÖ –†–∞–∑–º–µ—Ä: 30.72 –ú–ë
‚úÖ –§–æ—Ä–º–∞—Ç: FLAC (–∑–∞–≥–æ–ª–æ–≤–æ–∫ fLaC –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω)
‚úÖ –ö–∞—á–µ—Å—Ç–≤–æ: Lossless
‚úÖ –í—Ä–µ–º—è: ~5-10 —Å–µ–∫—É–Ω–¥ (—Å–∫–∞—á–∏–≤–∞–Ω–∏–µ + —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ + –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è)
```

---

## üîë **–ö–õ–Æ–ß–ï–í–û–ï –û–¢–ö–†–´–¢–ò–ï**

**OAuth —Ç–æ–∫–µ–Ω –∏–∑ –í–ï–ë-–í–ï–†–°–ò–ò —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è FLAC!**

–ù–µ –Ω—É–∂–µ–Ω —Ç–æ–∫–µ–Ω –∏–∑ –¥–µ—Å–∫—Ç–æ–ø–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ OAuth —Ç–æ–∫–µ–Ω–∞ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞.

---

## üõ†Ô∏è **–ß–¢–û –ë–´–õ–û –°–î–ï–õ–ê–ù–û**

### 1. –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ò–∑—É—á–µ–Ω [Rust –ø—Ä–æ–µ–∫—Ç](https://github.com/Sorrow446/Yandex-Music-Downloader)
- ‚úÖ –ù–∞–π–¥–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π HMAC –∞–ª–≥–æ—Ä–∏—Ç–º
- ‚úÖ –û–±–Ω–∞—Ä—É–∂–µ–Ω —Ñ–æ—Ä–º–∞—Ç `flac-mp4` —Å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º `encraw`

### 2. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
- ‚úÖ –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `yandex_direct_api.py` –¥–ª—è –ø—Ä—è–º—ã—Ö API –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ HMAC –ø–æ–¥–ø–∏—Å—å —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ AES-128-CTR
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —á–µ—Ä–µ–∑ ffmpeg

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω `yandex_client.py` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø—Ä—è–º–æ–≥–æ API
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞: —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ ‚Üí —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ ‚Üí –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –æ—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### 4. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `pycryptodome` –¥–ª—è AES
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è `ffmpeg`
- ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω `requirements.txt`

---

## üìÇ **–ò–ó–ú–ï–ù–Å–ù–ù–´–ï –§–ê–ô–õ–´**

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
- `backend/yandex_direct_api.py` - –ü—Ä—è–º–æ–π API —Å HMAC –∏ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–æ–π
- `FLAC_SUCCESS.md` - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `README_FLAC.md` - –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `backend/yandex_client.py` - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø—Ä—è–º–æ–≥–æ API
- `backend/requirements.txt` - –î–æ–±–∞–≤–ª–µ–Ω pycryptodome

---

## üéØ **–ö–ê–ö –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨**

1. **–¢–æ–∫–µ–Ω**: OAuth –∏–∑ –≤–µ–±-–≤–µ—Ä—Å–∏–∏ –Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∏
2. **–ö–∞—á–µ—Å—Ç–≤–æ**: –í—ã–±—Ä–∞—Ç—å "Lossless (FLAC)" –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
3. **–°–∫–∞—á–∞—Ç—å**: –í—ã–±—Ä–∞—Ç—å —Ç—Ä–µ–∫–∏/–ø–ª–µ–π–ª–∏—Å—Ç—ã –∏ –Ω–∞–∂–∞—Ç—å "–°–∫–∞—á–∞—Ç—å"

**–í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!**

---

## üîß **–¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò**

### API –∑–∞–ø—Ä–æ—Å:
```
GET https://api.music.yandex.net/get-file-info
Params:
  - ts: timestamp
  - trackId: ID —Ç—Ä–µ–∫–∞
  - quality: lossless
  - codecs: flac,aac,he-aac,mp3,flac-mp4,aac-mp4,he-aac-mp4
  - transports: encraw
  - sign: HMAC-SHA256(secret + timestamp + trackId + quality + codecs + transports)

Headers:
  - Authorization: OAuth <token>
  - X-Yandex-Music-Client: YandexMusicDesktopAppWindows/5.23.2
```

### –ü—Ä–æ—Ü–µ—Å—Å:
1. **API –∑–∞–ø—Ä–æ—Å** ‚Üí –ü–æ–ª—É—á–µ–Ω–∏–µ URL –∏ –∫–ª—é—á–∞
2. **–°–∫–∞—á–∏–≤–∞–Ω–∏–µ** ‚Üí –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π FLAC-MP4 —Ñ–∞–π–ª
3. **–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞** ‚Üí AES-128-CTR —Å –∫–ª—é—á–æ–º –∏–∑ API
4. **–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è** ‚Üí `ffmpeg -i input.mp4 -c:a copy output.flac`
5. **–û—á–∏—Å—Ç–∫–∞** ‚Üí –£–¥–∞–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

---

## ‚ö†Ô∏è **–¢–†–ï–ë–û–í–ê–ù–ò–Ø**

1. ‚úÖ **–ü–æ–¥–ø–∏—Å–∫–∞ –Ø–Ω–¥–µ–∫—Å.–ü–ª—é—Å** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è FLAC)
2. ‚úÖ **OAuth —Ç–æ–∫–µ–Ω** (–∏–∑ –≤–µ–±-–≤–µ—Ä—Å–∏–∏)
3. ‚úÖ **ffmpeg** (`sudo apt install ffmpeg`)
4. ‚úÖ **pycryptodome** (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ pip)

---

## üìà **–°–†–ê–í–ù–ï–ù–ò–ï –ö–ê–ß–ï–°–¢–í–ê**

| –ö–∞—á–µ—Å—Ç–≤–æ | –§–æ—Ä–º–∞—Ç | –†–∞–∑–º–µ—Ä (–ø—Ä–∏–º–µ—Ä–Ω–æ) |
|----------|--------|-------------------|
| **Lossless** | FLAC | **~30 –ú–ë** |
| High Quality | MP3 320 kbps | ~10 –ú–ë |
| Normal Quality | MP3 192 kbps | ~6 –ú–ë |

---

## üéâ **–ò–¢–û–ì**

**FLAC –ó–ê–ì–†–£–ó–ö–ê –ü–û–õ–ù–û–°–¢–¨–Æ –†–ê–ë–û–¢–ê–ï–¢!**

‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞  
‚úÖ OAuth —Ç–æ–∫–µ–Ω –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞  
‚úÖ Lossless –∫–∞—á–µ—Å—Ç–≤–æ  
‚úÖ –ë–µ–∑—É–ø—Ä–µ—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç  

**–ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç—É [Sorrow446/Yandex-Music-Downloader](https://github.com/Sorrow446/Yandex-Music-Downloader)!** üôè

