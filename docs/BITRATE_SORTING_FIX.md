# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –±–∏—Ç—Ä–µ–π—Ç–∞

## üéØ –ü—Ä–æ–±–ª–µ–º–∞

**296kbps/44.1kHz** —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª—Å—è –Ω–∏–∂–µ **128kbps/44.1kHz** ‚ùå

–≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ –ª–æ–≥–∏–∫–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –±—ã–ª–∞ –∂–µ—Å—Ç–∫–æ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º –±–∏—Ç—Ä–µ–π—Ç–∞ (320, 256, 192, 160, 128, 96) –∏ –Ω–µ —É—á–∏—Ç—ã–≤–∞–ª–∞ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è.

## üîß –†–µ—à–µ–Ω–∏–µ

### 1. **–£–ª—É—á—à–µ–Ω–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –±–∏—Ç—Ä–µ–π—Ç–∞**

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

```python
# –ñ–µ—Å—Ç–∫–æ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
if '320kbps' in quality_string:
    bitrate = 320
elif '256kbps' in quality_string:
    bitrate = 256
# ... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ
```

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

```python
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –ª—é–±–æ–≥–æ —á–∏—Å–ª–∞
import re
bitrate_match = re.search(r'(\d+)kbps', quality_string)
if bitrate_match:
    bitrate = int(bitrate_match.group(1))
```

### 2. **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏**

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

```python
# –ñ–µ—Å—Ç–∫–æ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã
if bitrate >= 320:
    return 6
elif bitrate >= 256:
    return 7
# ... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ
```

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

```python
# –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞ –¥–ª—è –ª—é–±–æ–≥–æ –±–∏—Ç—Ä–µ–π—Ç–∞
return 6 + (1000 - bitrate) // 100
```

## üìä –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

### –§–æ—Ä–º—É–ª–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏:

```
–ü–æ—Ä—è–¥–æ–∫ = 6 + (1000 - –±–∏—Ç—Ä–µ–π—Ç) // 100
```

### –ü—Ä–∏–º–µ—Ä—ã:

| –ë–∏—Ç—Ä–µ–π—Ç | –§–æ—Ä–º—É–ª–∞             | –ü–æ—Ä—è–¥–æ–∫ | –û–ø–∏—Å–∞–Ω–∏–µ      |
| ------- | ------------------- | ------- | ------------- |
| 320kbps | 6 + (1000-320)//100 | 6       | –õ—É—á—à–µ–µ —Å–∂–∞—Ç–æ–µ |
| 296kbps | 6 + (1000-296)//100 | 7       | –û—á–µ–Ω—å —Ö–æ—Ä–æ—à–µ–µ |
| 256kbps | 6 + (1000-256)//100 | 8       | –•–æ—Ä–æ—à–µ–µ       |
| 192kbps | 6 + (1000-192)//100 | 9       | –°—Ä–µ–¥–Ω–µ–µ       |
| 160kbps | 6 + (1000-160)//100 | 10      | –ù–∏–∑–∫–æ–µ        |
| 128kbps | 6 + (1000-128)//100 | 11      | –û—á–µ–Ω—å –Ω–∏–∑–∫–æ–µ  |
| 96kbps  | 6 + (1000-96)//100  | 12      | –ö—Ä–∞–π–Ω–µ –Ω–∏–∑–∫–æ–µ |

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):

1. 128kbps/44.1kHz
2. 296kbps/44.1kHz ‚ùå

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):

1. **296kbps/44.1kHz** ‚úÖ (–ª—É—á—à–µ)
2. **128kbps/44.1kHz** ‚úÖ (—Ö—É–∂–µ)

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### Backend (`audio_quality_utils.py`):

```python
def get_quality_sort_order(quality_string: str) -> int:
    # –ü–∞—Ä—Å–∏–Ω–≥ –±–∏—Ç—Ä–µ–π—Ç–∞ —Å –ø–æ–º–æ—â—å—é —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π
    import re
    bitrate_match = re.search(r'(\d+)kbps', quality_string)
    if bitrate_match:
        bitrate = int(bitrate_match.group(1))

    # –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
    if bitrate > 0:
        return 6 + (1000 - bitrate) // 100
```

### Frontend (`FileAnalyzer.tsx`):

```typescript
const getQualitySortOrder = (quality: string) => {
  // –ü–∞—Ä—Å–∏–Ω–≥ –±–∏—Ç—Ä–µ–π—Ç–∞ —Å –ø–æ–º–æ—â—å—é —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π
  const bitrateMatch = quality.match(/(\d+)kbps/);
  if (bitrateMatch) {
    bitrate = parseInt(bitrateMatch[1]);
  }

  // –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
  if (bitrate > 0) {
    return 6 + Math.floor((1000 - bitrate) / 100);
  }
};
```

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏

1. **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å**: –†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –±–∏—Ç—Ä–µ–π—Ç–∞
2. **–¢–æ—á–Ω–æ—Å—Ç—å**: –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
3. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞
4. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å**: –û–¥–∏–Ω–∞–∫–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –≤ backend –∏ frontend

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç:

- ‚úÖ 296kbps –≤—ã—à–µ 128kbps
- ‚úÖ 320kbps –≤—ã—à–µ 296kbps
- ‚úÖ 256kbps –≤—ã—à–µ 192kbps
- ‚úÖ –õ—é–±—ã–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –±–∏—Ç—Ä–µ–π—Ç–∞
