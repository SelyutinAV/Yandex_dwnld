#!/bin/bash

echo "üîÑ –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –±—Ä–∞—É–∑–µ—Ä–∞..."

# –û—á–∏—â–∞–µ–º –∫—ç—à Vite
cd /home/urch/Projects/yandex_downloads/frontend
rm -rf node_modules/.vite
rm -rf dist

# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã frontend
pkill -f "vite" 2>/dev/null
pkill -f "npm run dev" 2>/dev/null

echo "‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤..."
sleep 3

# –ó–∞–ø—É—Å–∫–∞–µ–º —Å –Ω–æ–≤—ã–º timestamp –¥–ª—è –æ–±—Ö–æ–¥–∞ –∫—ç—à–∞
echo "üöÄ –ó–∞–ø—É—Å–∫ frontend —Å –æ—á–∏—â–µ–Ω–Ω—ã–º –∫—ç—à–µ–º..."
cd /home/urch/Projects/yandex_downloads/frontend
npm run dev &

echo "‚úÖ Frontend –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω!"
echo ""
echo "üìã –ò–ù–°–¢–†–£–ö–¶–ò–Ø –î–õ–Ø –ë–†–ê–£–ó–ï–†–ê:"
echo "1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)"
echo "2. –ü—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –Ω–∞ –∫–Ω–æ–ø–∫–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è ‚Üí '–û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –∏ –∂—ë—Å—Ç–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ'"
echo "3. –ò–ª–∏ –Ω–∞–∂–º–∏—Ç–µ Ctrl+Shift+R (Linux/Windows) / Cmd+Shift+R (Mac)"
echo "4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ http://localhost:3000"
echo ""
echo "üîç –ü–†–û–í–ï–†–ö–ê:"
echo "–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:"
echo "- '–ó–∞–≥—Ä—É–∂–µ–Ω–æ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤: X'"
echo "- '–î–∞–Ω–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏: {queue: [...]}'"
echo "- –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ CORS –∏–ª–∏ 404"
